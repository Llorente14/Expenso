
<aside class="open box-border min-h-dvh max-h-auto  w-[250px] px-[1em] py-1 text-nowrap overflow-hidden bg-slate-800 border-r border-slate-500 sticky top-0 self-start transition-all duration-300 ease-in-out" id="sidebar" >
    <ul class="list-none fill-slate-200 text-sm ">
      <li class="flex justify-end mb-4 items-center ">
        <span class="font-semibold rounded-[0.5em] p-[0.85em] flex items-center gap-[1em]"></span>
        <svg xmlns="http://www.w3.org/2000/svg" width="61" height="42" viewBox="0 0 61 42" fill="none">
            <path d="M0 0H7V12L0 18V0Z" fill="#4ADE80"/>
            <path d="M0 24.5L7 18V42H0V24.5Z" fill="#4ADE80"/>
            <rect x="7" y="18" width="6" height="6" fill="#4ADE80"/>
            <rect x="7" y="36" width="6" height="6" fill="#4ADE80"/>
            <rect x="7" width="6" height="6" fill="#4ADE80"/>
            <rect x="18" y="18" width="6" height="6" fill="#4ADE80"/>
            <rect x="18" y="36" width="6" height="6" fill="#4ADE80"/>
            <rect x="18" width="6" height="6" fill="#4ADE80"/>
            <path d="M56.2503 0L60.6773 3.03341L48.1811 12L46.5 14.5L56.2503 0Z" fill="#4ADE80"/>
            <path d="M49.4193 20.0334L35.427 40.454L31 37.4206L39 28.5L49.4193 20.0334Z" fill="#4ADE80"/>
            <rect x="44.1666" y="23.9673" width="5.68581" height="19.691" transform="rotate(-32.6132 44.1666 23.9673)" fill="#4ADE80"/>
            <path d="M31 3.38965L35.7893 0.325201L43.7893 12.8281L39 15.8926L31 3.38965Z" fill="#4ADE80"/>
            <rect x="12" y="40" width="6" height="2" fill="#4ADE80"/>
            <rect x="12" width="6" height="2" fill="#4ADE80"/>
            </svg>
        <button onclick=toggleSidebar() class="ml-auto p-[1em] border-none rounded-[0.5em] bg-none cursor-pointer pl-2 hover:fill-green-400 " id="toggle-btn">
          <svg class="shrink-0 transition-transform duration-150 ease-in-out" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" ><path d="M440-240 200-480l240-240 56 56-183 184 183 184-56 56Zm264 0L464-480l240-240 56 56-183 184 183 184-56 56Z"/></svg>
        </button>
      </li>
      <!-- Content -->
      <div class="user-info rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700 " id="user-info">
        <p class="text-white">Welcome <%= user.name %> !</p>
      </div>  
      <li>
        <a href="/settings?success=" class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700">
          <svg class="shrink-0" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M14.06 9.02l.92.92-8.49 8.49H5.57v-1.92l8.49-8.49Zm2.12-2.12l1.41-1.41a1 1 0 0 1 1.42 0l1.59 1.59a1 1 0 0 1 0 1.42l-1.41 1.41-3.01-3.01ZM20 20H4v-2h16v2Z" fill="currentColor"/></svg>
          <span class="grow">Edit Profile</span>
        </a>
      </li>
      <li class=" ">
        <a href="/" class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700">
          <svg class="shrink-0" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" ><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg>
          <span class="grow">Home</span>
        </a>
      </li>
      <li>
        <a href="/dashboard" class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700" >
          <svg class="shrink-0" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" ><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h240v-560H200v560Zm320 0h240v-280H520v280Zm0-360h240v-200H520v200Z"/></svg>
          <span class="grow">Dashboard</span>
        </a>
      </li>

      </li>
      <li>
        <button onclick="toggleShowMenu(this, 'sub-menu', 'arrow-icon')" class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700" id="dropdown-btn">
            <svg class="shrink-0" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" ><path d="M200-200v-560 560Zm0 80q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v100h-80v-100H200v560h560v-100h80v100q0 33-23.5 56.5T760-120H200Zm320-160q-33 0-56.5-23.5T440-360v-240q0-33 23.5-56.5T520-680h280q33 0 56.5 23.5T880-600v240q0 33-23.5 56.5T800-280H520Zm280-80v-240H520v240h280Zm-160-60q25 0 42.5-17.5T700-480q0-25-17.5-42.5T640-540q-25 0-42.5 17.5T580-480q0 25 17.5 42.5T640-420Z"/></svg>
            <span class="grow">Track Expenses</span>
            <svg id="arrow-icon" class="shrink-0 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>
            
        </button>
        <ul class="grid transition-all duration-300 ease-in-out  " style="grid-template-rows: 0fr;"id="sub-menu">
            <div class="overflow-hidden">

                <li class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700"><a class="ml-8" href="/expenses">Lihat Data</a></li>
                <li class="rounded-[0.5em] p-[0.85em]  flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700"><a class="ml-8" href="/expenses/add">Tambah Data</a></li>
                <li class="rounded-[0.5em] p-[0.85em]  flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700"><a class="ml-8" href="/categories">Tambah Kategori</a></li>
            </div>
        </ul>
        <button onclick="toggleShowMenu(this, 'sub-menu-2', 'arrow-icon-2')" class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700" id="dropdown-btn">
            <svg class="shrink-0" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" ><path d="M200-200v-560 560Zm0 80q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v100h-80v-100H200v560h560v-100h80v100q0 33-23.5 56.5T760-120H200Zm320-160q-33 0-56.5-23.5T440-360v-240q0-33 23.5-56.5T520-680h280q33 0 56.5 23.5T880-600v240q0 33-23.5 56.5T800-280H520Zm280-80v-240H520v240h280Zm-160-60q25 0 42.5-17.5T700-480q0-25-17.5-42.5T640-540q-25 0-42.5 17.5T580-480q0 25 17.5 42.5T640-420Z"/></svg>
            <span class="grow">sadasa Expenses</span>
            <svg id="arrow-icon-2" class="shrink-0 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>
            
        </button>
        <ul class="grid transition-all duration-300 ease-in-out  " style="grid-template-rows: 0fr;"id="sub-menu-2">
            <div class="overflow-hidden">

                <li class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700"><a class="ml-8" href="/expenses">Tengok Data</a></li>
                <li class="rounded-[0.5em] p-[0.85em]  flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700"><a class="ml-8" href="/expenses/add">Tambah Data</a></li>
                <li class="rounded-[0.5em] p-[0.85em]  flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700"><a class="ml-8" href="/categories">Tambah Kategori</a></li>
            </div>
        </ul>
       
      </li>

      <li>
        <button onclick=toggleShowMenu(this) class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700" id="dropdown-btn">
            <svg class="shrink-0" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" ><path d="M200-200v-560 560Zm0 80q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v100h-80v-100H200v560h560v-100h80v100q0 33-23.5 56.5T760-120H200Zm320-160q-33 0-56.5-23.5T440-360v-240q0-33 23.5-56.5T520-680h280q33 0 56.5 23.5T880-600v240q0 33-23.5 56.5T800-280H520Zm280-80v-240H520v240h280Zm-160-60q25 0 42.5-17.5T700-480q0-25-17.5-42.5T640-540q-25 0-42.5 17.5T580-480q0 25 17.5 42.5T640-420Z"/></svg>
            <span class="grow">Admin Selection</span>
            <svg id="arrow-icon" class="shrink-0 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>
            
        </button>
        <ul class="grid transition-all duration-300 ease-in-out  " style="grid-template-rows: 0fr;"id="sub-menu-2">
            <div class="overflow-hidden">

                <li class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700"><a class="ml-8" href="/adminPanel">User Table</a></li>
                <li class="rounded-[0.5em] p-[0.85em]  flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700"><a class="ml-8" href="/adminRole">User Role</a></li>

            </div>
        </ul>
      
      </li>

      <li>
        <form action="/auth/logout" method="get" class="rounded-[0.5em] p-[0.85em] flex items-center gap-[1em] fill-slate-200 hover:fill-green-400 hover:text-green-400 hover:bg-slate-700">
          <button type="submit" class="flex items-center gap-[1em] w-full cursor-pointer">
            <svg class="shrink-0" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px">
              <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z"/>
            </svg>
            Logout
          </button>
        </form>
      </li>

    </ul>
  </aside>
  <script>
    let toggleBtn = document.getElementById("toggle-btn")
    let sidebar = document.getElementById("sidebar")
    let userInfo = document.getElementById("user-info");

    function toggleShowMenu(button, menuId, arrowId) {
    const subMenu = document.getElementById(menuId);
    const arrowIcon = document.getElementById(arrowId);

    // Toggle rotasi ikon panah
    arrowIcon.classList.toggle("rotate-180");

    // Toggle tampilan dropdown
    if (subMenu.style.gridTemplateRows === "0fr") {
      subMenu.style.gridTemplateRows = "1fr";
    } else {
      subMenu.style.gridTemplateRows = "0fr";
    }
  }
    if(sidebar.classList.contains('close')){
        sidebar.classList.remove("close")
            toggleBtn.classList.toggle("rotate-180");
            sidebar.style.width = "";
            sidebar.style.padding = "";
            sidebar.classList.add("open")
    }
  
// Function to toggle the sidebar open/close state
function toggleSidebar() {
    if (sidebar.classList.contains("open")) {
        sidebar.classList.remove("open");
        toggleBtn.classList.toggle("rotate-180");
        sidebar.style.width = "55px";
        sidebar.style.padding = "5px";
        sidebar.classList.add("close");
        userInfo.classList.add("hidden"); 
    } else {
        sidebar.classList.remove("close");
        toggleBtn.classList.toggle("rotate-180");
        sidebar.style.width = "";
        sidebar.style.padding = "";
        sidebar.classList.add("open");
        userInfo.classList.remove("hidden"); 
    }
}


  </script>